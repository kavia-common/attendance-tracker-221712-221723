{"is_source_file": true, "format": "JavaScript", "description": "This file functions as a Firebase database and authentication seeder script for setting up test or initial data in a Firebase project. It seeds users, classes, sessions, and attendance records, and configures custom user claims.", "external_files": ["seed_data.json", "dotenv"], "external_methods": ["require('firebase-admin')", "require('dotenv').config", "admin.credential.cert", "admin.credential.applicationDefault", "auth.getUser", "auth.createUser", "auth.updateUser", "auth.setCustomUserClaims", "db.collection", "admin.firestore.Timestamp.fromDate"], "published": ["seed"], "classes": [], "methods": [{"name": "upsertUserAuth(user)", "description": "Creates or updates a Firebase Auth user and sets custom claims for role.", "scope": "", "scopeKind": ""}, {"name": "seed()", "description": "Main async function to seed users, classes, sessions, and attendance data into Firestore and Firebase Auth.", "scope": "", "scopeKind": ""}], "calls": ["path.resolve", "JSON.parse", "fs.readFileSync", "auth.getUser", "auth.createUser", "auth.updateUser", "auth.setCustomUserClaims", "db.collection", "admin.firestore.Timestamp.fromDate", "seedData.users", "seedData.classes", "seedData.sessions", "seedData.attendance", "console.log", "process.exit"], "search-terms": ["firebase-admin seeder", "seed users classes sessions attendance", "seeder.js", "Firestore seeding script", "Firebase Auth custom claims setup"], "state": 2, "file_id": 12, "knowledge_revision": 25, "git_revision": "", "ctags": [{"_type": "tag", "name": "admin", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^let admin;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "args", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const args = process.argv.slice(2);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const auth = admin.auth();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const db = admin.firestore();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fs", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const fs = require('fs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^  const options = { projectId };$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const path = require('path');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "projectId", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^  const options = { projectId };$/", "language": "JavaScript", "kind": "field", "scope": "options", "scopeKind": "class"}, {"_type": "tag", "name": "projectId", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const projectId = process.env.FIREBASE_PROJECT_ID || 'demo-project';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "seed", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^async function seed() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "serviceAccountPath", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const serviceAccountPath = process.env.GOOGLE_APPLICATION_CREDENTIALS;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "upsertUserAuth", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^async function upsertUserAuth(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "useEmulator", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221723/firebase_realtime_database/seed/seeder.js", "pattern": "/^const useEmulator = args.includes('--emulator') || process.env.USE_FIREBASE_EMULATOR === 'true';$/", "language": "JavaScript", "kind": "constant"}], "hash": "b905915036c02f2746331aead6fbf9bc", "format-version": 4, "code-base-name": "firebase_realtime_database", "filename": "firebase_realtime_database/seed/seeder.js", "fields": [{"name": "let admin;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const options = { projectId };", "scope": "options", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"25": ""}]}